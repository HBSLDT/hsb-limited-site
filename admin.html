<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hydra HQ Admin</title>
  <style>
    body {
      background: #000;
      color: #eee;
      font-family: 'Arial', sans-serif;
      padding: 20px;
    }
    h1, h2 {
      color: #fff;
      text-align: center;
    }
    input, textarea {
      display: block;
      width: 90%;
      max-width: 400px;
      margin: 10px auto;
      padding: 10px;
      font-size: 16px;
      background: #111;
      color: #eee;
      border: 1px solid #555;
      border-radius: 6px;
    }
    button {
      display: block;
      margin: 10px auto;
      padding: 12px 24px;
      font-size: 16px;
      background: #444;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background: #666;
    }
    table {
      width: 90%;
      margin: 20px auto;
      border-collapse: collapse;
    }
    th, td {
      padding: 10px;
      border: 1px solid #555;
      text-align: center;
    }
    #contractList {
      list-style: none;
      padding: 0;
      text-align: center;
    }
    #contractList li {
      margin: 5px;
    }
    a {
      color: #0f0;
      text-decoration: none;
    }
    .dashboard {
      display: none;
    }
  </style>
</head>
<body>

  <!-- LOGIN SCREEN -->
  <div id="loginScreen">
    <h1>Hydra HQ â€“ Admin Login</h1>
    <input id="adminCode" placeholder="Enter Admin Code" />
    <button onclick="checkLogin()">ğŸ” Login</button>
  </div>

  <!-- ADMIN DASHBOARD -->
  <div class="dashboard" id="adminDashboard">
    <h1>Hydra HQ â€“ Admin Dashboard</h1>

    <!-- SELLER PERFORMANCE -->
    <h2>ğŸ“Š Seller Performance</h2>
    <input id="sellerName" placeholder="Seller Name (e.g. Reece)">
    <input id="salesCount" type="number" placeholder="Total Sales">
    <input id="earnings" type="number" placeholder="Total Earnings (Â£)">
    <input id="sellerCode" placeholder="Referral Code">
    <button onclick="saveSeller()">ğŸ’¾ Save Seller</button>

    <table id="sellerTable">
      <thead>
        <tr><th>Name</th><th>Sales</th><th>Earnings</th><th>Code</th></tr>
      </thead>
      <tbody></tbody>
    </table>

    <!-- SESSION AVAILABILITY -->
    <h2>ğŸ—“ï¸ Edit Weekly Sessions</h2>
    <textarea id="sessionText" rows="5" placeholder="e.g. Mon: 7AMâ€“10AM..."></textarea>
    <button onclick="saveSessions()">ğŸ’¾ Save Sessions</button>
    <p id="savedSessions" style="text-align:center;"></p>

    <!-- CONTRACT UPLOAD -->
    <h2>ğŸ“ Upload Contracts</h2>
    <input type="file" id="contractUpload" />
    <button onclick="uploadContract()">ğŸ“¤ Upload File</button>
    <ul id="contractList"></ul>
  </div>

  <script>
    // LOGIN SYSTEM
    function checkLogin() {
      const input = document.getElementById("adminCode").value.trim();
      if (input === "HBS123") {
        document.getElementById("loginScreen").style.display = "none";
        document.getElementById("adminDashboard").style.display = "block";
        loadSellerTable();
        renderSession();
        renderContractList();
      } else {
        alert("Incorrect admin code.");
      }
    }

    // SELLER STATS
    function saveSeller() {
      const name = document.getElementById("sellerName").value;
      const sales = document.getElementById("salesCount").value;
      const earnings = document.getElementById("earnings").value;
      const code = document.getElementById("sellerCode").value;
      if (!name) return alert("Enter a seller name.");

      let sellers = JSON.parse(localStorage.getItem("sellers")) || [];
      const existing = sellers.find(s => s.name === name);
      if (existing) {
        existing.sales = sales;
        existing.earnings = earnings;
        existing.code = code;
      } else {
        sellers.push({ name, sales, earnings, code });
      }
      localStorage.setItem("sellers", JSON.stringify(sellers));
      loadSellerTable();
    }

    function loadSellerTable() {
      const table = document.querySelector("#sellerTable tbody");
      table.innerHTML = "";
      const sellers = JSON.parse(localStorage.getItem("sellers")) || [];
      sellers.forEach(s => {
        const row = `<tr><td>${s.name}</td><td>${s.sales}</td><td>Â£${s.earnings}</td><td>${s.code}</td></tr>`;
        table.innerHTML += row;
      });
    }

    // SESSIONS
    function saveSessions() {
      const text = document.getElementById("sessionText").value;
      localStorage.setItem("sessions", text);
      document.getElementById("savedSessions").innerText = "âœ… Availability Updated";
    }

    function renderSession() {
      const saved = localStorage.getItem("sessions");
      document.getElementById("sessionText").value = saved || "";
    }

    // CONTRACTS
    let contracts = JSON.parse(localStorage.getItem("contracts")) || [];

    function uploadContract() {
      const fileInput = document.getElementById("contractUpload");
      const file = fileInput.files[0];
      if (!file) return alert("Select a file first.");

      const reader = new FileReader();
      reader.onload = function(e) {
        contracts.push({ name: file.name, data: e.target.result });
        localStorage.setItem("contracts", JSON.stringify(contracts));
        renderContractList();
        fileInput.value = '';
      };
      reader.readAsDataURL(file);
    }

    function renderContractList() {
      const list = document.getElementById("contractList");
      list.innerHTML = '';
      contracts.forEach(file => {
        const li = document.createElement("li");
        li.innerHTML = `<a href="${file.data}" download="${file.name}">ğŸ“ ${file.name}</a>`;
        list.appendChild(li);
      });
    }
  </script>
</body>
</html>
